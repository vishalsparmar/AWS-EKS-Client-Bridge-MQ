# One-liner to test with existing limitations
kubectl exec -it <nginx-pod> -n <namespace> -- /bin/sh -c "
echo 'Current TCP settings (read-only):'
cat /proc/sys/net/ipv4/tcp_keepalive_time
cat /proc/sys/net/ipv4/tcp_keepalive_intvl

echo 'Testing connectivity with nc timeouts:'
for i in 1 2 3 4 5; do
  echo \"Attempt \$i:\"
  timeout 10 nc -w 4 -zv mainframe.company.com 1414 && echo '  ✓ SUCCESS' || echo '  ✗ FAILED (but fast)'
  sleep 2
done
"
